# ╔═══════════════════════════════════════════════════════════════════════════╗
# ║                         ALPHA-PM CONFIGURATION                             ║
# ║                                                                            ║
# ║  Autonomous Prediction Market Trading Platform                             ║
# ║  https://github.com/brickdatalab/alpha-pm                                  ║
# ║                                                                            ║
# ║  SETUP INSTRUCTIONS:                                                       ║
# ║  1. Copy this file: cp .env.example .env                                   ║
# ║  2. Fill in the required values below                                      ║
# ║  3. Never commit your .env file to git (it's in .gitignore)               ║
# ╚═══════════════════════════════════════════════════════════════════════════╝


# ┌───────────────────────────────────────────────────────────────────────────┐
# │ MONGODB ATLAS (REQUIRED)                                                  │
# │                                                                           │
# │ Free tier: https://www.mongodb.com/cloud/atlas/register                   │
# │                                                                           │
# │ How to get your connection string:                                        │
# │ 1. Create a free M0 cluster at MongoDB Atlas                              │
# │ 2. Go to Database > Connect > Drivers > Python                            │
# │ 3. Copy the connection string                                             │
# │ 4. Replace <password> with your database user's password                  │
# │ 5. Add your database name before the "?" (e.g., /alphapm?)               │
# └───────────────────────────────────────────────────────────────────────────┘

# WHY: Stores all trades, positions, signals, and performance metrics
# FORMAT: mongodb+srv://username:password@cluster.xxxxx.mongodb.net/database?retryWrites=true&w=majority
# EXAMPLE: mongodb+srv://alphapm:MySecurePass123@cluster0.abc123.mongodb.net/alphapm?retryWrites=true&w=majority
MONGODB_URI=mongodb+srv://USERNAME:PASSWORD@YOUR-CLUSTER.mongodb.net/alphapm?retryWrites=true&w=majority


# ┌───────────────────────────────────────────────────────────────────────────┐
# │ REDIS (REQUIRED)                                                          │
# │                                                                           │
# │ Options:                                                                  │
# │ - Local Docker: redis://localhost:6379/0                                  │
# │ - Redis Cloud free tier: https://redis.com/try-free/                      │
# │ - Upstash free tier: https://upstash.com/                                 │
# └───────────────────────────────────────────────────────────────────────────┘

# WHY: Real-time pub/sub messaging between agents, caching market data
# FORMAT: redis://[[username:]password@]host[:port]/database
# EXAMPLE (local): redis://localhost:6379/0
# EXAMPLE (cloud): redis://default:abc123xyz@redis-12345.c1.us-east-1-2.ec2.cloud.redislabs.com:12345/0
REDIS_URL=redis://localhost:6379/0


# ┌───────────────────────────────────────────────────────────────────────────┐
# │ POLYMARKET (REQUIRED for Polymarket trading)                              │
# │                                                                           │
# │ Get started: https://polymarket.com                                       │
# │                                                                           │
# │ How to get your private key:                                              │
# │ - If using MetaMask: Settings > Security > Export Private Key             │
# │ - If using a new wallet: Generate with ethers.js or similar               │
# │ - NEVER share this key or commit it to git                                │
# │                                                                           │
# │ IMPORTANT: Your wallet must have:                                         │
# │ - USDC on Polygon network for trading                                     │
# │ - Small amount of MATIC for gas fees                                      │
# └───────────────────────────────────────────────────────────────────────────┘

# WHY: Signs transactions to place trades on Polymarket
# FORMAT: 64-character hex string with 0x prefix
# EXAMPLE: 0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef
POLYMARKET_PRIVATE_KEY=

# WHY: Only needed if using a proxy wallet (Magic Link, email login, etc.)
#      If you're using a regular wallet (MetaMask), leave this empty
# FORMAT: Ethereum address (42 characters with 0x prefix)
# EXAMPLE: 0x742d35Cc6634C0532925a3b844Bc9e7595f8fE00
POLYMARKET_FUNDER=


# ┌───────────────────────────────────────────────────────────────────────────┐
# │ KALSHI (OPTIONAL - for Kalshi platform trading)                           │
# │                                                                           │
# │ Get API access: https://kalshi.com/api                                    │
# │                                                                           │
# │ How to get credentials:                                                   │
# │ 1. Log into Kalshi and go to Settings > API                               │
# │ 2. Generate a new API key (you'll get an API Key ID)                      │
# │ 3. Generate an RSA key pair for signing requests                          │
# │ 4. Upload your public key to Kalshi                                       │
# │                                                                           │
# │ RSA Key Generation (run in terminal):                                     │
# │   openssl genrsa -out kalshi_private.pem 4096                             │
# │   openssl rsa -in kalshi_private.pem -pubout -out kalshi_public.pem       │
# │   # Upload kalshi_public.pem to Kalshi API settings                       │
# └───────────────────────────────────────────────────────────────────────────┘

# WHY: Identifies your API requests to Kalshi
# FORMAT: String provided by Kalshi when you create an API key
# EXAMPLE: a1b2c3d4-e5f6-7890-abcd-ef1234567890
KALSHI_API_KEY=

# WHY: Signs API requests - Kalshi uses RSA authentication instead of simple API keys
# FORMAT: Multi-line PEM-encoded RSA private key (paste the entire contents)
# TIP: For multi-line values, some systems need \n escaped or quotes around the value
# EXAMPLE: -----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBA...rest of key...\n-----END RSA PRIVATE KEY-----
KALSHI_PRIVATE_KEY=

# WHY: Test your bot without risking real money
# VALUES: true = demo environment (fake money), false = production (real money)
# TIP: Always start with true until you're confident the bot works correctly
KALSHI_USE_DEMO=true


# ┌───────────────────────────────────────────────────────────────────────────┐
# │ ANTHROPIC / CLAUDE AI (REQUIRED for AI trading strategy)                  │
# │                                                                           │
# │ Get API key: https://console.anthropic.com/                               │
# │                                                                           │
# │ Pricing (as of 2024):                                                     │
# │ - Claude Haiku: ~$0.25/million input tokens (fast, cheap)                 │
# │ - Claude Sonnet: ~$3/million input tokens (balanced)                      │
# │ - We use Haiku for quick decisions, Sonnet for deeper analysis            │
# └───────────────────────────────────────────────────────────────────────────┘

# WHY: Powers the AI Analyst agent that evaluates markets and generates signals
# FORMAT: API key starting with "sk-ant-"
# EXAMPLE: sk-ant-api03-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
ANTHROPIC_API_KEY=

# WHY: Prevents runaway API costs - bot stops AI calls when daily limit is hit
# FORMAT: Number in USD
# EXAMPLE: 10.0 means max $10/day on AI API calls
# TIP: Start low ($5-10) and increase once you understand usage patterns
AI_DAILY_BUDGET=10.0


# ┌───────────────────────────────────────────────────────────────────────────┐
# │ RISK MANAGEMENT (REQUIRED - protects your portfolio)                      │
# │                                                                           │
# │ These are safety limits that override all trading decisions.              │
# │ The Risk Manager has VETO power - if a trade violates these limits,       │
# │ it will be rejected regardless of how confident the AI is.                │
# │                                                                           │
# │ IMPORTANT: Be conservative here. You can always loosen limits later.      │
# └───────────────────────────────────────────────────────────────────────────┘

# WHY: Stops trading for the day if you lose this percentage
# FORMAT: Number (percentage of total portfolio value)
# EXAMPLE: 5 = if you started the day with $1000, trading halts after losing $50
# RECOMMENDATION: 3-5% for conservative, 5-10% for aggressive
MAX_DAILY_LOSS_PCT=5

# WHY: Prevents putting too much into a single market
# FORMAT: Number (percentage of total portfolio value)
# EXAMPLE: 10 = with $1000 portfolio, max $100 in any single position
# RECOMMENDATION: 5-10% to maintain diversification
MAX_SINGLE_POSITION_PCT=10

# WHY: Emergency stop if portfolio drops too much from its peak value
# FORMAT: Number (percentage from all-time high portfolio value)
# EXAMPLE: 15 = if portfolio hit $1200 peak, halt all trading if it drops to $1020
# RECOMMENDATION: 10-20% depending on risk tolerance
MAX_DRAWDOWN_PCT=15

# WHY: Pauses trading after a losing streak to prevent tilt/emotional trading
# FORMAT: Number of consecutive losing trades
# EXAMPLE: 5 = after 5 losses in a row, pause for 1 hour
# RECOMMENDATION: 3-5 for conservative, 5-10 for aggressive
CONSECUTIVE_LOSS_PAUSE=5


# ┌───────────────────────────────────────────────────────────────────────────┐
# │ STRATEGY ALLOCATION (REQUIRED - how to split your portfolio)              │
# │                                                                           │
# │ These percentages control how much capital each strategy can use.         │
# │ MUST ADD UP TO 100.                                                       │
# │                                                                           │
# │ Strategies:                                                               │
# │ - AI Trading: Claude analyzes markets and finds mispriced contracts       │
# │ - Copy Trading: Follows successful traders and mirrors their positions    │
# │ - Arbitrage: Exploits price differences between Kalshi and Polymarket     │
# │ - Cash Reserve: Kept liquid for opportunities and safety margin           │
# └───────────────────────────────────────────────────────────────────────────┘

# WHY: AI agent allocation - our main edge, analyzes news/events
# RECOMMENDATION: 30-50% (higher if you trust AI analysis)
ALLOCATION_AI_TRADING=40

# WHY: Copy trading allocation - follows proven winners
# RECOMMENDATION: 25-40% (lower risk, relies on others' research)
ALLOCATION_COPY_TRADING=35

# WHY: Arbitrage allocation - low risk, lower returns
# RECOMMENDATION: 10-20% (requires both Kalshi and Polymarket access)
ALLOCATION_ARBITRAGE=15

# WHY: Always keep some cash for unexpected opportunities
# RECOMMENDATION: 10-20% minimum (never go to 0%)
ALLOCATION_CASH_RESERVE=10


# ┌───────────────────────────────────────────────────────────────────────────┐
# │ COPY TRADING CONFIGURATION                                                │
# │                                                                           │
# │ Find profitable traders to copy:                                          │
# │ - Polymarket leaderboard: Check top traders' addresses                    │
# │ - Look for consistent profitability, not just one lucky bet               │
# │ - Verify they're still active (traded in last 7 days)                     │
# └───────────────────────────────────────────────────────────────────────────┘

# WHY: Addresses of traders whose positions we'll mirror
# FORMAT: Comma-separated Ethereum addresses
# EXAMPLE: 0x123...abc,0x456...def,0x789...ghi
# TIP: Start with 2-3 traders, add more as you verify their performance
COPY_TRADER_ADDRESSES=

# WHY: Scale copied positions relative to the trader's size
# FORMAT: Decimal multiplier
# EXAMPLE: 0.5 = if they bet $100, we bet $50
# EXAMPLE: 1.0 = match their position size exactly
# EXAMPLE: 2.0 = double their position size (risky!)
# RECOMMENDATION: Start with 0.25-0.5 until you trust the trader
COPY_TRADE_MULTIPLIER=0.5

# WHY: Don't copy trades smaller than this (avoids dust trades)
# FORMAT: Number in USD
# EXAMPLE: 10 = ignore any trade under $10
COPY_MIN_TRADE_SIZE=10


# ┌───────────────────────────────────────────────────────────────────────────┐
# │ FEATURE FLAGS (Control which strategies are active)                       │
# │                                                                           │
# │ Use these to enable/disable strategies without changing code.             │
# │ Useful for:                                                               │
# │ - Testing one strategy at a time                                          │
# │ - Disabling a strategy that's underperforming                             │
# │ - Gradual rollout of new features                                         │
# └───────────────────────────────────────────────────────────────────────────┘

# WHY: Master switch for AI-powered market analysis and trading
# VALUES: true or false
# TIP: Requires ANTHROPIC_API_KEY to be set
ENABLE_AI_TRADING=true

# WHY: Master switch for copying other traders
# VALUES: true or false
# TIP: Requires COPY_TRADER_ADDRESSES to be set
ENABLE_COPY_TRADING=true

# WHY: Master switch for cross-platform arbitrage
# VALUES: true or false
# TIP: Requires both Polymarket AND Kalshi credentials to be useful
ENABLE_ARBITRAGE=false


# ┌───────────────────────────────────────────────────────────────────────────┐
# │ OPERATIONAL SETTINGS                                                      │
# └───────────────────────────────────────────────────────────────────────────┘

# WHY: How often to check for new trading opportunities
# FORMAT: Number in seconds
# EXAMPLE: 30 = check markets every 30 seconds
# RECOMMENDATION: 30-60 for normal operation, 10-15 for more active trading
POLLING_INTERVAL_SECONDS=30

# WHY: Controls verbosity of logs
# VALUES: DEBUG (most verbose), INFO, WARNING, ERROR (least verbose)
# RECOMMENDATION: INFO for production, DEBUG when troubleshooting
LOG_LEVEL=INFO

# WHY: Application environment
# VALUES: development, staging, production
# TIP: Use development for local testing
ENVIRONMENT=development
